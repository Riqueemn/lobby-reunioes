<!DOCTYPE html>
<html>

    <head>
        <title>Cliente</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../styles/styles.css">
    </head>

    <body>
        
        <div class="lobby" >
            <a id="lobby-1" class="buttons" target="_blank">Lobby 1</a>
            <a id="lobby-2" class="buttons" target="_blank">Lobby 2</a>
            <a id="lobby-3" class="buttons" target="_blank">Lobby 3</a>
            <a id="lobby-4" class="buttons" target="_blank">Lobby 4</a>
        </div>

        <script src='../scripts/script-meet.js'></script>

        <script>
            setInterval(statusButtons, 1000);
            function statusButtons(){
                var response = getStatusButtons();
                var responseData = response.split(",");

                ///////  Ocupado /////////////

                if(responseData[0] == "Ocupado"){
                    document.getElementById("lobby-1").style.background = "#e74c3c";
                    document.getElementById("lobby-1").removeAttribute("href");
                    document.getElementById("lobby-1").innerHTML = "Ocupado";
                }

                if(responseData[1] == "Ocupado"){
                    document.getElementById("lobby-2").style.background = "#e74c3c";
                    document.getElementById("lobby-2").removeAttribute("href");
                    document.getElementById("lobby-2").innerHTML = "Ocupado";
                }

                if(responseData[2] == "Ocupado"){
                    document.getElementById("lobby-3").style.background = "#e74c3c";
                    document.getElementById("lobby-3").removeAttribute("href");
                    document.getElementById("lobby-3").innerHTML = "Ocupado";
                }

                if(responseData[3] == "Ocupado"){
                    document.getElementById("lobby-4").style.background = "#e74c3c";
                    document.getElementById("lobby-4").removeAttribute("href");
                    document.getElementById("lobby-4").innerHTML = "Ocupado";
                }

//////////////////////////////////////////////////

                ///////  Disponível /////////////
                
                if(responseData[0] == "Disponivel"){
                    document.getElementById("lobby-1").style.background = "#ffbe76";
                    document.getElementById("lobby-1").setAttribute("href", "http://localhost/lobby-reunioes/cliente/loading.html?1");
                    document.getElementById("lobby-1").innerHTML = "Disponível";
                }

                if(responseData[1] == "Disponivel"){
                    document.getElementById("lobby-2").style.background = "#ffbe76";
                    document.getElementById("lobby-2").setAttribute("href", "http://localhost/lobby-reunioes/cliente/loading.html?2");
                    document.getElementById("lobby-2").innerHTML = "Disponível"
                }

                if(responseData[2] == "Disponivel"){
                    document.getElementById("lobby-3").style.background = "#ffbe76";
                    document.getElementById("lobby-3").setAttribute("href", "http://localhost/lobby-reunioes/cliente/loading.html?3");
                    document.getElementById("lobby-3").innerHTML = "Disponível"
                }

                if(responseData[3] == "Disponivel"){
                    document.getElementById("lobby-4").style.background = "#ffbe76";
                    document.getElementById("lobby-4").setAttribute("href", "http://localhost/lobby-reunioes/cliente/loading.html?4");
                    document.getElementById("lobby-4").innerHTML = "Disponível"
                }

                //////////////////////////////////////////////////

                ///////  Indisponível /////////////

                if(responseData[0] == "Indisponivel"){
                    document.getElementById("lobby-1").style.background = "#95a5a6";
                    document.getElementById("lobby-1").removeAttribute("href");
                    document.getElementById("lobby-1").innerHTML = "Indisponível";
                }

                if(responseData[1] == "Indisponivel"){
                    document.getElementById("lobby-2").style.background = "#95a5a6";
                    document.getElementById("lobby-2").removeAttribute("href");
                    document.getElementById("lobby-2").innerHTML = "Indisponível";
                }

                if(responseData[2] == "Indisponivel"){
                    document.getElementById("lobby-3").style.background = "#95a5a6";
                    document.getElementById("lobby-3").removeAttribute("href");
                    document.getElementById("lobby-3").innerHTML = "Indisponível";
                }

                if(responseData[3] == "Indisponivel"){
                    document.getElementById("lobby-4").style.background = "#95a5a6";
                    document.getElementById("lobby-4").removeAttribute("href");
                    document.getElementById("lobby-4").innerHTML = "Indisponível";
                }

                //////////////////////////////////////////////////
            }
            
        </script>

    </body>
</html>